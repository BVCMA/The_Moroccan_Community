<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Moroccan Community | Plateforme √âducative Financi√®re</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #006241; /* Vert √âmeraude Marocain */
            --secondary: #c0a062; /* Or Atlas */
            --dark: #1a1a1a;
            --light: #ffffff;
            --bg: #f8f9fa;
        }

        * { box-sizing: border-box; transition: all 0.3s ease; }
        body { font-family: 'Montserrat', sans-serif; margin: 0; background: var(--bg); color: var(--dark); overflow-x: hidden; }

        /* --- NAVIGATION --- */
        nav {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 5%; background: white; position: sticky; top: 0; z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .logo { font-family: 'Playfair Display', serif; font-size: 1.5rem; color: var(--primary); font-weight: bold; cursor: pointer; }
        .nav-links a { text-decoration: none; color: var(--dark); margin-left: 20px; font-weight: 600; cursor: pointer; }
        .nav-links a:hover { color: var(--secondary); }

        /* --- SYST√àME DE PAGES (DISPLAY MANAGEMENT) --- */
        .page { display: none; padding: 60px 5%; animation: fadeIn 0.5s; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- HOME PAGE --- */
        .hero { 
            height: 80vh; display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1539667468225-eebb663053e6?auto=format&fit=crop&w=1350&q=80');
            background-size: cover; color: white; border-radius: 0 0 50px 50px;
        }
        .hero h1 { font-family: 'Playfair Display', serif; font-size: 3.5rem; margin: 0; }
        .btn-main { background: var(--secondary); color: white; padding: 15px 40px; border: none; border-radius: 30px; font-size: 1rem; font-weight: bold; cursor: pointer; margin-top: 25px; text-decoration: none; }

        /* --- SIMULATEURS HUB (GRID) --- */
        .sim-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-top: 40px; }
        .sim-item { background: white; padding: 30px; border-radius: 20px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.05); cursor: pointer; border: 1px solid #eee; }
        .sim-item:hover { border-color: var(--secondary); transform: translateY(-5px); }
        .sim-item i { font-size: 2rem; color: var(--primary); display: block; margin-bottom: 15px; }

        /* --- SIMULATEUR DETAIL VIEW --- */
        .sim-view { max-width: 1100px; margin: auto; background: white; padding: 40px; border-radius: 30px; display: grid; grid-template-columns: 1fr 1fr; gap: 40px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        @media (max-width: 850px) { .sim-view { grid-template-columns: 1fr; } }
        .sim-inputs { display: flex; flex-direction: column; gap: 20px; }
        .sim-inputs h2 { font-family: 'Playfair Display', serif; color: var(--primary); margin: 0; }
        input, select { padding: 15px; border: 1px solid #ddd; border-radius: 10px; font-size: 1rem; }
        .constat-box { background: #f0f7f4; padding: 25px; border-radius: 15px; border-left: 5px solid var(--secondary); margin-top: 20px; }
        .constat-box h4 { margin-top: 0; color: var(--primary); }

        /* --- FORMATIONS --- */
        .course-card { background: white; border-radius: 20px; margin-bottom: 30px; overflow: hidden; display: flex; box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .course-info { padding: 40px; flex: 1; }
        .price-tag { color: var(--secondary); font-weight: bold; font-size: 1.5rem; display: block; margin: 15px 0; }
        .course-details { display: none; padding-top: 20px; border-top: 1px solid #eee; margin-top: 20px; }

        /* --- CONTACT --- */
        .contact-container { max-width: 600px; margin: auto; text-align: center; }
        .contact-form { display: flex; flex-direction: column; gap: 15px; margin-top: 30px; }
    </style>
</head>
<body>

<nav>
    <div class="logo" onclick="showPage('home')">THE MOROCCAN COMMUNITY</div>
    <div class="nav-links">
        <a onclick="showPage('home')">Accueil</a>
        <a onclick="showPage('sim-hub')">Simulateurs</a>
        <a onclick="showPage('formations')">Formations</a>
        <a onclick="showPage('contact')">Contact</a>
    </div>
</nav>

<section id="home" class="page active">
    <div class="hero">
        <h1>√âduquer. Investir. Prosp√©rer.</h1>
        <p>La r√©f√©rence en √©ducation financi√®re pour la communaut√© marocaine.</p>
        <button class="btn-main" onclick="showPage('sim-hub')">D√©marrer une simulation</button>
    </div>
    <div style="text-align: center; padding-top: 50px;">
        <h2>Pourquoi nous choisir ?</h2>
        <p>Des outils con√ßus pour le march√© local avec une expertise internationale.</p>
    </div>
</section>

<section id="sim-hub" class="page">
    <center><h2>Nos Outils d'Analyse</h2></center>
    <div class="sim-grid">
        <div class="sim-item" onclick="openSim('ic')"><h3>üìà √âpargne & Int√©r√™ts</h3><p>Projetez votre fortune sur le long terme.</p></div>
        <div class="sim-item" onclick="openSim('budget')"><h3>‚öñÔ∏è Gestion de Budget</h3><p>√âquilibrez vos revenus avec la r√®gle 50/30/20.</p></div>
        <div class="sim-item" onclick="openSim('ae')"><h3>üë®‚Äçüíª Net Auto-Entrepreneur</h3><p>Calculez ce qu'il vous reste apr√®s taxes au Maroc.</p></div>
        <div class="sim-item" onclick="openSim('immo')"><h3>üè† Rentabilit√© Immo</h3><p>Analysez vos investissements locatifs au Royaume.</p></div>
        <div class="sim-item" onclick="openSim('business')"><h3>üè¢ Point Mort Business</h3><p>Sachez quand votre entreprise devient rentable.</p></div>
        <div class="sim-item" onclick="openSim('tva')"><h3>üí∞ Calculateur de TVA</h3><p>D√©taillez vos prix HT, TVA et TTC.</p></div>
    </div>
</section>

<section id="sim-detail" class="page">
    <button onclick="showPage('sim-hub')" style="margin-bottom: 20px; cursor: pointer;">‚Üê Retour aux outils</button>
    <div class="sim-view">
        <div class="sim-inputs" id="sim-fields">
            </div>
        <div class="sim-results">
            <canvas id="simChart"></canvas>
            <div class="constat-box" id="constat-text">
                <h4>Constat de l'Expert</h4>
                <p>Entrez vos chiffres pour obtenir une analyse √©ducative personnalis√©e.</p>
            </div>
        </div>
    </div>
</section>

<section id="formations" class="page">
    <center><h2>Formations d'Excellence</h2></center>
    <div id="course-list">
        <div class="course-card">
            <div class="course-info">
                <h3>L'Investissement Intelligent au Maroc</h3>
                <p>Apprenez √† naviguer entre la bourse de Casablanca et l'immobilier local.</p>
                <span class="price-tag">2 500 DH</span>
                <button class="btn-main" onclick="toggleDetails('d1')">Voir le programme & Payer</button>
                <div id="d1" class="course-details">
                    <ul>
                        <li>Comprendre le CDG et les OPCVM</li>
                        <li>Strat√©gies fiscales (LMNP vs SCI)</li>
                        <li>Analyse fondamentale des actions marocaines</li>
                    </ul>
                    <p><strong>Paiement :</strong> Virement CIH, Wafacash ou Stripe.</p>
                </div>
            </div>
        </div>
        <div class="course-card">
            <div class="course-info">
                <h3>Freelance Pro : Succ√®s & Fiscalit√©</h3>
                <p>Optimisez votre statut d'Auto-Entrepreneur et g√©rez votre tr√©sorerie.</p>
                <span class="price-tag">1 200 DH</span>
                <button class="btn-main" onclick="toggleDetails('d2')">Voir le programme & Payer</button>
                <div id="d2" class="course-details">
                    <p>Contenu : Gestion des factures, d√©claration CPU, et √©pargne retraite pour ind√©pendants.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="contact" class="page">
    <div class="contact-container">
        <h2>Contactez nos Experts</h2>
        <p>Une question ? Un besoin d'accompagnement sp√©cifique ?</p>
        <form class="contact-form">
            <input type="text" placeholder="Nom complet">
            <input type="email" placeholder="Email">
            <textarea placeholder="Votre message..." style="padding:15px; border-radius:10px; height:150px;"></textarea>
            <button class="btn-main">Envoyer ma demande</button>
        </form>
    </div>
</section>

<script>
    let currentChart = null;

    // GESTION DES PAGES
    function showPage(pageId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
        window.scrollTo(0,0);
    }

    function toggleDetails(id) {
        const d = document.getElementById(id);
        d.style.display = (d.style.display === 'block') ? 'none' : 'block';
    }

    // LOGIQUE DES SIMULATEURS
    function openSim(type) {
        showPage('sim-detail');
        const container = document.getElementById('sim-fields');
        const constat = document.getElementById('constat-text');
        
        if(type === 'ic') {
            container.innerHTML = `<h2>Croissance du Capital</h2>
                <input type="number" id="v1" placeholder="Capital Initial (DH)">
                <input type="number" id="v2" placeholder="√âpargne Mensuelle (DH)">
                <input type="number" id="v3" placeholder="Taux annuel (%)">
                <input type="number" id="v4" placeholder="Ann√©es">
                <button class="btn-main" onclick="runIC()">Analyser</button>`;
        } else if(type === 'ae') {
            container.innerHTML = `<h2>Net Auto-Entrepreneur</h2>
                <input type="number" id="v1" placeholder="CA Mensuel (DH)">
                <select id="v2"><option value="0.005">Services (0.5%)</option><option value="0.02">Commerce (2%)</option></select>
                <button class="btn-main" onclick="runAE()">Calculer le Net</button>`;
        } else if(type === 'budget') {
            container.innerHTML = `<h2>R√®gle 50/30/20</h2>
                <input type="number" id="v1" placeholder="Salaire Net Mensuel (DH)">
                <button class="btn-main" onclick="runBudget()">R√©partir</button>`;
        }
        // Ajouter les autres ici de la m√™me fa√ßon...
    }

    // --- CALCULS ET ANALYSES ---

    function runIC() {
        const p = parseFloat(document.getElementById('v1').value);
        const m = parseFloat(document.getElementById('v2').value);
        const r = (parseFloat(document.getElementById('v3').value)/100)/12;
        const t = parseInt(document.getElementById('v4').value)*12;
        let total = p * Math.pow(1+r, t) + m * ((Math.pow(1+r, t)-1)/r);
        
        updateChart('line', ['D√©but', 'Fin'], [p, total], 'Fortune Projet√©e');
        document.getElementById('constat-text').innerHTML = `<h4>Constat √âducatif</h4>
            <p>Avec cet investissement, vous g√©n√©rez <strong>${Math.round(total - (p+m*t))} DH</strong> d'int√©r√™ts. 
            Le constat est clair : la r√©gularit√© bat le montant initial. Commencez t√¥t !</p>`;
    }

    function runBudget() {
        const s = parseFloat(document.getElementById('v1').value);
        const data = [s*0.5, s*0.3, s*0.2];
        updateChart('pie', ['Besoins', 'Envies', '√âpargne'], data, 'R√©partition DH');
        document.getElementById('constat-text').innerHTML = `<h4>Analyse de l'√âquilibre</h4>
            <p>Votre capacit√© d'√©pargne est de <strong>${data[2]} DH</strong>. Si vos charges fixes d√©passent <strong>${data[0]} DH</strong>, vous √™tes en zone de risque financier au Maroc.</p>`;
    }

    function runAE() {
        const ca = parseFloat(document.getElementById('v1').value);
        const taux = parseFloat(document.getElementById('v2').value);
        const impot = ca * taux;
        const net = ca - impot;
        updateChart('bar', ['CA Brut', 'Imp√¥t', 'Revenu Net'], [ca, impot, net], 'DH');
        document.getElementById('constat-text').innerHTML = `<h4>Constat Fiscal</h4>
            <p>Le r√©gime AE est tr√®s avantageux. Votre pression fiscale n'est que de <strong>${taux*100}%</strong>. Pensez √† r√©investir vos √©conomies d'imp√¥ts.</p>`;
    }

    function updateChart(type, labels, data, label) {
        if (currentChart) currentChart.destroy();
        const ctx = document.getElementById('simChart').getContext('2d');
        currentChart = new Chart(ctx, {
            type: type,
            data: {
                labels: labels,
                datasets: [{
                    label: label,
                    data: data,
                    backgroundColor: ['#006241', '#c0a062', '#1a1a1a'],
                    borderWidth: 0
                }]
            },
            options: { responsive: true, maintainAspectRatio: false }
        });
    }
</script>
</body>
</html>
