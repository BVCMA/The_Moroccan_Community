<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Moroccan Community | Analyst & CFO</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --brand: #000000;
            --gold: #c5a059;
            --text: #333;
            --light-bg: #f9f9f9;
            --white: #ffffff;
            --border: #e1e1e1;
        }

        * { box-sizing: border-box; transition: all 0.2s ease-in-out; }
        body { font-family: 'Inter', sans-serif; margin: 0; background: var(--light-bg); color: var(--text); line-height: 1.6; }

        /* --- BOURSE TICKER --- */
        .ticker-wrap { background: var(--brand); color: white; padding: 10px 0; overflow: hidden; position: sticky; top: 0; z-index: 1100; }
        .ticker { display: flex; white-space: nowrap; animation: ticker 30s linear infinite; }
        .ticker span { padding: 0 40px; font-weight: bold; font-size: 0.85rem; }
        .up { color: #2ecc71; } .down { color: #e74c3c; }
        @keyframes ticker { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        /* --- NAVIGATION --- */
        header { background: var(--white); border-bottom: 1px solid var(--border); padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 40px; z-index: 1000; }
        .logo-box { display: flex; flex-direction: column; }
        .logo-main { font-family: 'Playfair Display', serif; font-size: 1.4rem; color: var(--brand); letter-spacing: -1px; }
        .logo-sub { font-size: 0.7rem; color: var(--gold); font-weight: bold; letter-spacing: 2px; }
        
        nav a { text-decoration: none; color: var(--text); margin-left: 20px; font-size: 0.9rem; font-weight: 600; cursor: pointer; }
        nav a:hover { color: var(--gold); }

        /* --- LAYOUT --- */
        .container { max-width: 1200px; margin: auto; padding: 40px 20px; }
        .page-view { display: none; animation: fadeIn 0.4s ease; }
        .page-view.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- HERO & HOME --- */
        .hero { text-align: center; padding: 100px 0; background: white; border-bottom: 1px solid var(--border); border-radius: 0 0 40px 40px; }
        .hero h1 { font-family: 'Playfair Display', serif; font-size: 3.5rem; margin: 0; }
        .hero p { max-width: 700px; margin: 20px auto; font-size: 1.1rem; color: #666; }
        .social-links { margin-top: 30px; }
        .btn-social { padding: 10px 20px; border: 1px solid var(--border); border-radius: 5px; text-decoration: none; color: var(--brand); font-weight: bold; margin: 0 10px; }
        .btn-social:hover { background: var(--brand); color: white; }

        /* --- SIMULATEURS GRID --- */
        .sim-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 30px; }
        .sim-card { background: white; padding: 30px; border-radius: 15px; border: 1px solid var(--border); box-shadow: 0 4px 10px rgba(0,0,0,0.02); }
        .sim-card h3 { font-family: 'Playfair Display', serif; margin-top: 0; color: var(--brand); border-bottom: 2px solid var(--gold); display: inline-block; padding-bottom: 5px; }
        .guide-text { font-size: 0.8rem; color: #777; background: #fef9e7; padding: 10px; border-radius: 5px; margin: 15px 0; }
        
        input, select { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; }
        .btn-calc { width: 100%; padding: 15px; background: var(--brand); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .btn-calc:hover { background: var(--gold); }

        .analysis-result { margin-top: 25px; padding: 20px; background: #f4f7f6; border-radius: 10px; border-left: 4px solid var(--gold); }
        .chart-container { height: 250px; margin-top: 20px; }

        /* --- FORMATIONS & RESOURCES --- */
        .resource-card { background: white; border-radius: 15px; overflow: hidden; display: flex; margin-bottom: 30px; border: 1px solid var(--border); }
        .res-type { background: var(--gold); color: white; padding: 20px; font-weight: bold; display: flex; align-items: center; }
        .res-content { padding: 30px; flex: 1; }
        .price { font-size: 1.5rem; font-weight: bold; color: var(--brand); }

        /* --- FAQ --- */
        .faq-item { background: white; margin-bottom: 10px; border-radius: 8px; border: 1px solid var(--border); }
        .faq-question { padding: 20px; font-weight: bold; cursor: pointer; display: flex; justify-content: space-between; }

        footer { text-align: center; padding: 50px; border-top: 1px solid var(--border); margin-top: 50px; font-size: 0.8rem; color: #999; }
    </style>
</head>
<body>

<div class="ticker-wrap">
    <div class="ticker">
        <span>MASI: 14,230.50 <b class="up">+0.45%</b></span>
        <span>IAM: 108.50 <b class="down">-0.12%</b></span>
        <span>ATTIJARI: 520.00 <b class="up">+1.20%</b></span>
        <span>BCP: 295.00 <b class="up">+0.30%</b></span>
        <span>LAFARGE: 1,850.00 <b class="down">-0.50%</b></span>
        <span>BOA: 192.00 <b class="up">+0.15%</b></span>
        <span>LABEL VIE: 4,500.00 <b class="up">+2.10%</b></span>
    </div>
</div>

<header>
    <div class="logo-box" onclick="showPage('home')">
        <span class="logo-main">THE MOROCCAN COMMUNITY</span>
        <span class="logo-sub">ANALYST ‚Ä¢ CFO ‚Ä¢ BOURSE</span>
    </div>
    <nav>
        <a onclick="showPage('home')">Accueil</a>
        <a onclick="showPage('simulators')">Simulateurs</a>
        <a onclick="showPage('courses')">Formations</a>
        <a onclick="showPage('resources')">Ressources</a>
        <a onclick="showPage('about')">√Ä Propos</a>
        <a onclick="showPage('contact')">Contact</a>
    </nav>
</header>

<div class="container">

    <div id="home" class="page-view active">
        <div class="hero">
            <h1>L'Intelligence Financi√®re au Maroc</h1>
            <p>Fusion de <b>The Moroccan Analyst</b> et <b>The Moroccan CFO</b>. Nous d√©cryptons la Bourse de Casablanca et la Finance d'Entreprise pour les investisseurs et professionnels exigeants.</p>
            <div class="social-links">
                <a href="https://www.youtube.com/@The_Moroccan_Analyst" target="_blank" class="btn-social">YouTube Analyst</a>
                <a href="https://www.youtube.com/@TheMoroccanCFO" target="_blank" class="btn-social">YouTube CFO</a>
                <a href="https://www.instagram.com/the_moroccananalyst/" target="_blank" class="btn-social">Instagram</a>
            </div>
        </div>

        <section style="margin-top: 60px;">
            <h2>FAQ - Questions Fr√©quentes</h2>
            <div class="faq-item">
                <div class="faq-question">Comment acc√©der aux fichiers Excel premium ? <span>+</span></div>
                <div style="padding:0 20px 20px; display:none;" class="faq-answer">Les fichiers sont r√©serv√©s aux membres payants de la cha√Æne The Moroccan Analyst et aux inscrits aux formations.</div>
            </div>
            <div class="faq-item">
                <div class="faq-question">Les simulateurs sont-ils adapt√©s au march√© marocain ? <span>+</span></div>
                <div style="padding:0 20px 20px; display:none;" class="faq-answer">Oui, les taux de TVA, les imp√¥ts (IS/AE) et les calculs de rendement sont bas√©s sur les normes du Royaume.</div>
            </div>
        </section>
    </div>

    <div id="simulators" class="page-view">
        <h2 style="font-family: 'Playfair Display', serif; font-size: 2.5rem;">Terminal d'Analyse Financi√®re</h2>
        <div class="sim-grid">
            
            <div class="sim-card">
                <h3>üíé Valorisation DCF (Simplifi√©e)</h3>
                <div class="guide-text"><b>Guide :</b> Estimez la valeur intrins√®que d'une action en projetant ses flux de tr√©sorerie libres.</div>
                <label>Flux de tr√©sorerie (DH)</label>
                <input type="number" id="dcf_fcf" value="1000000">
                <label>Taux de croissance (%)</label>
                <input type="number" id="dcf_g" value="5">
                <label>Taux d'actualisation (WACC %)</label>
                <input type="number" id="dcf_wacc" value="10">
                <button class="btn-calc" onclick="calcDCF()">Calculer la Valeur</button>
                <div id="res_dcf" class="analysis-result" style="display:none;"></div>
                <div class="chart-container"><canvas id="chart_dcf"></canvas></div>
            </div>

            <div class="sim-card">
                <h3>üí∞ Yield & Payback Bourse</h3>
                <div class="guide-text"><b>Guide :</b> Calculez combien d'ann√©es il faut pour r√©cup√©rer votre mise via les dividendes.</div>
                <label>Prix d'achat (DH)</label>
                <input type="number" id="div_prix" value="500">
                <label>Dividende par action (DH)</label>
                <input type="number" id="div_val" value="25">
                <button class="btn-calc" onclick="calcDiv()">Analyser le Rendement</button>
                <div id="res_div" class="analysis-result" style="display:none;"></div>
                <div class="chart-container"><canvas id="chart_div"></canvas></div>
            </div>

            <div class="sim-card">
                <h3>üèóÔ∏è Co√ªt Moyen Pond√©r√© (WACC)</h3>
                <div class="guide-text"><b>Guide :</b> Outil CFO pour d√©terminer le co√ªt de financement de l'entreprise.</div>
                <label>Co√ªt des fonds propres (%)</label>
                <input type="number" id="w_ke" value="12">
                <label>Co√ªt de la dette (%)</label>
                <input type="number" id="w_kd" value="5">
                <label>Levier (Dette/Total %)</label>
                <input type="number" id="w_levier" value="40">
                <button class="btn-calc" onclick="calcWACC()">Calculer WACC</button>
                <div id="res_wacc" class="analysis-result" style="display:none;"></div>
                <div class="chart-container"><canvas id="chart_wacc"></canvas></div>
            </div>

            <div class="sim-card">
                <h3>üè† Rentabilit√© Immo Maroc</h3>
                <label>Prix d'acquisition (DH)</label><input type="number" id="im_prix" value="1000000">
                <label>Loyer mensuel (DH)</label><input type="number" id="im_loyer" value="5000">
                <button class="btn-calc" onclick="calcImmo()">Calculer Rentabilit√©</button>
                <div id="res_immo" class="analysis-result" style="display:none;"></div>
                <div class="chart-container"><canvas id="chart_immo"></canvas></div>
            </div>

            <div class="sim-card">
                <h3>üìä Simulation Portefeuille</h3>
                <label>Capital investi (DH)</label><input type="number" id="port_cap" value="100000">
                <label>Performance annuelle (%)</label><input type="number" id="port_perf" value="8">
                <label>Dur√©e (ans)</label><input type="number" id="port_ans" value="10">
                <button class="btn-calc" onclick="calcPort()">Projeter</button>
                <div id="res_port" class="analysis-result" style="display:none;"></div>
                <div class="chart-container"><canvas id="chart_port"></canvas></div>
            </div>

            <div class="sim-card">
                <h3>üè¢ Fiscalit√© Corporate</h3>
                <label>R√©sultat Fiscal (DH)</label><input type="number" id="fis_res" value="200000">
                <select id="fis_type"><option value="0.10">IS 10% (< 300k)</option><option value="0.20">IS 20%</option></select>
                <button class="btn-calc" onclick="calcFis()">Calculer Imp√¥t</button>
                <div id="res_fis" class="analysis-result" style="display:none;"></div>
                <div class="chart-container"><canvas id="chart_fis"></canvas></div>
            </div>

        </div>
    </div>

    <div id="courses" class="page-view">
        <h2>Formations Professionnelles</h2>
        <div class="resource-card">
            <div class="res-type">BOURSE</div>
            <div class="res-content">
                <h3>Analyse Fondamentale : Bourse de Casablanca</h3>
                <p>Ma√Ætrisez les bilans, les ratios (P/E, EV/EBITDA) et la lecture des rapports financiers des soci√©t√©s cot√©es au Maroc.</p>
                <div class="price">2 500 DH</div>
                <button class="btn-calc" style="width:200px">S'inscrire</button>
            </div>
        </div>
        <div class="resource-card">
            <div class="res-type">FINANCE</div>
            <div class="res-content">
                <h3>Corporate Finance & Mod√©lisation Excel</h3>
                <p>√âvaluation d'entreprise, Business Plan, et finance d'entreprise de A √† Z.</p>
                <div class="price">3 500 DH</div>
                <button class="btn-calc" style="width:200px">S'inscrire</button>
            </div>
        </div>
        <div class="resource-card">
            <div class="res-type">CARRI√àRE</div>
            <div class="res-content">
                <h3>Coaching Carri√®re Finance</h3>
                <p>Pr√©paration aux entretiens, optimisation LinkedIn, CV et Lettre de motivation pour les m√©tiers de la finance.</p>
                <div class="price">1 500 DH</div>
                <button class="btn-calc" style="width:200px">S'inscrire</button>
            </div>
        </div>
    </div>

    <div id="resources" class="page-view">
        <h2>Ressources & Fichiers</h2>
        <div class="sim-grid">
            <div class="sim-card">
                <span style="color:var(--gold)">GRATUIT</span>
                <h3>Checklist Analyse Action</h3>
                <p>Un PDF pour ne rien oublier avant d'acheter une action sur le MASI.</p>
                <button class="btn-calc">T√©l√©charger</button>
            </div>
            <div class="sim-card">
                <span style="color:var(--brand)">PREMIUM</span>
                <h3>Mod√®le DCF Automatis√© (Excel)</h3>
                <p>Le template complet utilis√© par The Moroccan CFO.</p>
                <button class="btn-calc">Acheter (300 DH)</button>
            </div>
        </div>
    </div>

    <div id="contact" class="page-view">
        <center>
            <h2>Contact & Support</h2>
            <p>Pour toute question relative aux formations ou aux partenariats.</p>
            <div class="sim-card" style="max-width: 500px; text-align: left;">
                <p><b>Email :</b> themoroccananalyst@gmail.com</p>
                <p><b>Instagram :</b> @the_moroccananalyst</p>
                <hr>
                <input type="text" placeholder="Votre Nom">
                <input type="email" placeholder="Votre Email">
                <textarea style="width:100%; height:100px; padding:10px; border-radius:8px; border:1px solid #ddd;" placeholder="Votre Message..."></textarea>
                <button class="btn-calc">Envoyer</button>
            </div>
        </center>
    </div>

    <div id="about" class="page-view">
        <h2>√Ä Propos de The Moroccan Community</h2>
        <p>Lanc√©e par un passionn√© des march√©s financiers et de la gestion d'entreprise, cette plateforme est le point de rencontre entre l'analyse boursi√®re rigoureuse (The Moroccan Analyst) et la strat√©gie financi√®re corporate (The Moroccan CFO).</p>
        <p>Notre but est de d√©mocratiser l'acc√®s √† une information financi√®re de qualit√© au Maroc.</p>
    </div>

</div>

<footer>
    <p>&copy; 2025 THE MOROCCAN COMMUNITY. Tous droits r√©serv√©s. <br> Les analyses ne constituent pas des conseils en investissement.</p>
</footer>

<script>
    // --- GESTION NAVIGATION ---
    function showPage(id) {
        document.querySelectorAll('.page-view').forEach(p => p.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        window.scrollTo(0,0);
    }

    // --- FAQ ACCORDION ---
    document.querySelectorAll('.faq-question').forEach(q => {
        q.addEventListener('click', () => {
            const ans = q.nextElementSibling;
            ans.style.display = ans.style.display === 'block' ? 'none' : 'block';
        });
    });

    // --- GRAPHIQUES & CALCULS ---
    let charts = {};

    function renderChart(id, type, labels, data, label) {
        if (charts[id]) charts[id].destroy();
        const ctx = document.getElementById(id).getContext('2d');
        charts[id] = new Chart(ctx, {
            type: type,
            data: {
                labels: labels,
                datasets: [{
                    label: label,
                    data: data,
                    backgroundColor: ['#c5a059', '#333', '#eee'],
                    borderColor: '#c5a059',
                    borderWidth: 1
                }]
            },
            options: { responsive: true, maintainAspectRatio: false }
        });
    }

    // 1. DCF
    function calcDCF() {
        let fcf = parseFloat(document.getElementById('dcf_fcf').value);
        let g = parseFloat(document.getElementById('dcf_g').value)/100;
        let w = parseFloat(document.getElementById('dcf_wacc').value)/100;
        let valeur = fcf / (w - g);
        document.getElementById('res_dcf').style.display = 'block';
        document.getElementById('res_dcf').innerHTML = `<b>Constat Analyste :</b> La valeur terminale de l'entreprise est estim√©e √† <b>${Math.round(valeur).toLocaleString()} DH</b>. Si la capitalisation boursi√®re actuelle est inf√©rieure, l'action est potentiellement sous-√©valu√©e.`;
        renderChart('chart_dcf', 'bar', ['Ann√©e N', 'Valeur Terminale'], [fcf, valeur], 'DH');
    }

    // 2. DIVIDENDE
    function calcDiv() {
        let p = parseFloat(document.getElementById('div_prix').value);
        let v = parseFloat(document.getElementById('div_val').value);
        let yield = (v/p)*100;
        let payback = p/v;
        document.getElementById('res_div').style.display = 'block';
        document.getElementById('res_div').innerHTML = `<b>Constat Analyste :</b> Rendement (Yield) : <b>${yield.toFixed(2)}%</b>. Il vous faudra <b>${payback.toFixed(1)} ans</b> de dividendes pour rembourser votre investissement initial.`;
        renderChart('chart_div', 'doughnut', ['Rendement', 'Prix'], [v, p-v], 'DH');
    }

    // 3. WACC
    function calcWACC() {
        let ke = parseFloat(document.getElementById('w_ke').value)/100;
        let kd = parseFloat(document.getElementById('w_kd').value)/100;
        let lev = parseFloat(document.getElementById('w_levier').value)/100;
        let wacc = (ke * (1 - lev)) + (kd * lev * 0.8); // 0.8 pour √©conomie d'imp√¥t simplifi√©e
        document.getElementById('res_wacc').style.display = 'block';
        document.getElementById('res_wacc').innerHTML = `<b>Constat CFO :</b> Votre co√ªt moyen du capital est de <b>${(wacc*100).toFixed(2)}%</b>. Tout projet doit avoir un TRI sup√©rieur √† ce taux pour cr√©er de la valeur.`;
        renderChart('chart_wacc', 'pie', ['Fonds Propres', 'Dette'], [1-lev, lev], 'Structure');
    }

    // 4. IMMO
    function calcImmo() {
        let p = parseFloat(document.getElementById('im_prix').value);
        let l = parseFloat(document.getElementById('im_loyer').value);
        let rend = ((l*12)/p)*100;
        document.getElementById('res_immo').style.display = 'block';
        document.getElementById('res_immo').innerHTML = `<b>Analyse :</b> Rendement Brut de <b>${rend.toFixed(2)}%</b>.`;
        renderChart('chart_immo', 'bar', ['Loyer Annuel', 'Prix'], [l*12, p], 'DH');
    }

    // 5. PORTFOLIO
    function calcPort() {
        let c = parseFloat(document.getElementById('port_cap').value);
        let p = parseFloat(document.getElementById('port_perf').value)/100;
        let a = parseInt(document.getElementById('port_ans').value);
        let total = c * Math.pow(1+p, a);
        document.getElementById('res_port').style.display = 'block';
        document.getElementById('res_port').innerHTML = `<b>Projection :</b> Capital final : <b>${Math.round(total).toLocaleString()} DH</b>.`;
        renderChart('chart_port', 'line', ['An 0', 'Milieu', 'Fin'], [c, total/2, total], 'Croissance');
    }

    // 6. FISCALIT√â
    function calcFis() {
        let r = parseFloat(document.getElementById('fis_res').value);
        let t = parseFloat(document.getElementById('fis_type').value);
        let imp = r * t;
        document.getElementById('res_fis').style.display = 'block';
        document.getElementById('res_fis').innerHTML = `<b>Imp√¥t sur les soci√©t√©s :</b> <b>${imp.toLocaleString()} DH</b>.`;
        renderChart('chart_fis', 'bar', ['Net', 'IS'], [r-imp, imp], 'DH');
    }

</script>

</body>
</html>
