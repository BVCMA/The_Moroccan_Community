<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Moroccan Community | Analyst & CFO Hub</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #ffffff;
            --surface: #f8f9fa;
            --brand: #000000;
            --accent: #c5a059;
            --text-main: #1a1a1a;
            --text-muted: #666666;
            --border: #e5e7eb;
        }

        * { box-sizing: border-box; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        body { font-family: 'Inter', sans-serif; margin: 0; background: var(--bg); color: var(--text-main); line-height: 1.6; }

        /* --- TICKER BOURSE --- */
        .market-ticker { background: var(--brand); color: var(--accent); padding: 12px 0; overflow: hidden; position: sticky; top: 0; z-index: 2000; font-size: 0.85rem; font-weight: 700; border-bottom: 1px solid var(--accent); }
        .ticker-track { display: flex; width: max-content; animation: scroll 40s linear infinite; }
        .ticker-item { padding: 0 30px; }
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

        /* --- NAVIGATION --- */
        nav { display: flex; justify-content: space-between; align-items: center; padding: 20px 6%; background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); border-bottom: 1px solid var(--border); position: sticky; top: 43px; z-index: 1000; }
        .logo { font-family: 'Cinzel', serif; font-size: 1.4rem; color: var(--brand); letter-spacing: 1px; cursor: pointer; }
        .nav-links a { text-decoration: none; color: var(--brand); margin-left: 25px; font-weight: 600; font-size: 0.85rem; cursor: pointer; text-transform: uppercase; }
        .nav-links a:hover { color: var(--accent); }

        /* --- PAGES SYSTEM --- */
        .page { display: none; padding: 60px 8%; animation: pageIn 0.5s ease-out; }
        .page.active { display: block; }
        @keyframes pageIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- HOME PAGE : EDUCATION --- */
        .hero { padding: 80px 0; text-align: center; border-bottom: 1px solid var(--border); }
        .hero h1 { font-family: 'Cinzel', serif; font-size: 3.5rem; margin: 0; }
        .edu-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px; margin-top: 60px; }
        .edu-card { background: var(--surface); padding: 40px; border-radius: 4px; border-left: 4px solid var(--accent); }
        .edu-card h3 { color: var(--accent); text-transform: uppercase; letter-spacing: 1px; }

        /* --- SIMULATORS DASHBOARD --- */
        .sim-hub-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        @media (max-width: 900px) { .sim-hub-grid { grid-template-columns: 1fr; } }
        .sim-launcher { background: var(--brand); color: white; padding: 40px; border-radius: 8px; cursor: pointer; position: relative; overflow: hidden; }
        .sim-launcher:hover { background: #222; transform: translateY(-5px); }
        .sim-launcher h3 { margin: 0; font-family: 'Cinzel', serif; color: var(--accent); }
        .sim-launcher p { font-size: 0.8rem; opacity: 0.7; }

        /* --- SIMULATOR PAGE DESIGN --- */
        .sim-workspace { display: grid; grid-template-columns: 400px 1fr; gap: 40px; background: white; padding: 40px; border-radius: 12px; box-shadow: 0 20px 40px rgba(0,0,0,0.05); }
        @media (max-width: 1100px) { .sim-workspace { grid-template-columns: 1fr; } }
        
        .sim-controls { background: var(--surface); padding: 30px; border-radius: 8px; }
        .guide-section { margin-top: 30px; padding: 20px; background: #fff; border: 1px dashed var(--accent); font-size: 0.85rem; }
        
        .output-section { display: flex; flex-direction: column; gap: 30px; }
        .chart-box { background: white; border: 1px solid var(--border); padding: 20px; border-radius: 8px; height: 350px; }
        .analysis-report { background: var(--brand); color: white; padding: 30px; border-radius: 8px; border-bottom: 5px solid var(--accent); }
        .analysis-report h4 { color: var(--accent); margin-top: 0; text-transform: uppercase; }

        input, select { width: 100%; padding: 12px; margin-bottom: 20px; border: 1px solid #ddd; border-radius: 4px; font-family: inherit; }
        .btn-action { width: 100%; padding: 15px; background: var(--accent); color: white; border: none; font-weight: bold; cursor: pointer; text-transform: uppercase; }

        /* --- FORMATIONS --- */
        .course-grid { display: grid; gap: 30px; }
        .course-item { display: flex; background: white; border: 1px solid var(--border); border-radius: 8px; overflow: hidden; }
        .course-badge { background: var(--brand); color: var(--accent); padding: 40px; display: flex; align-items: center; font-family: 'Cinzel', serif; font-size: 1.5rem; }
        .course-info { padding: 30px; flex: 1; }

        footer { background: var(--brand); color: white; padding: 80px 8%; text-align: center; margin-top: 100px; }
    </style>
</head>
<body>

<div class="market-ticker">
    <div class="ticker-track">
        <div class="ticker-item">MASI: 14,245.30 (+0.42%)</div>
        <div class="ticker-item">IAM: 108.50 DH (+1.2%)</div>
        <div class="ticker-item">ATTIJARI: 525.00 DH (-0.15%)</div>
        <div class="ticker-item">BCP: 298.00 DH (+0.8%)</div>
        <div class="ticker-item">LAFARGE: 1,890.00 DH (+0.2%)</div>
        <div class="ticker-item">BOA: 194.00 DH (+1.5%)</div>
        <div class="ticker-item">MASI: 14,245.30 (+0.42%)</div>
        <div class="ticker-item">IAM: 108.50 DH (+1.2%)</div>
        <div class="ticker-item">ATTIJARI: 525.00 DH (-0.15%)</div>
    </div>
</div>

<nav>
    <div class="logo" onclick="showPage('home')">The Moroccan Community</div>
    <div class="nav-links">
        <a onclick="showPage('home')">Accueil</a>
        <a onclick="showPage('sim-hub')">Simulateurs</a>
        <a onclick="showPage('courses')">Formations</a>
        <a onclick="showPage('resources')">Ressources</a>
        <a onclick="showPage('about')">A Propos</a>
        <a onclick="showPage('contact')">Contact</a>
    </div>
</nav>

<div id="home" class="page active">
    <div class="hero">
        <h1>L'Analyste & Le CFO</h1>
        <p>Expertise Boursière et Corporate Finance dédiée au marché marocain.</p>
    </div>

    <div class="edu-grid">
        <div class="edu-card">
            <h3>Comprendre la Bourse de Casablanca</h3>
            <p>La Bourse de Casablanca (MASI) est le moteur de l'investissement au Royaume. Nous vous aidons à décrypter les rapports annuels, à calculer la valeur intrinsèque des fleurons nationaux et à anticiper les cycles économiques.</p>
        </div>
        <div class="edu-card">
            <h3>Finance d'Entreprise (Corporate)</h3>
            <p>Du calcul du WACC à la modélisation DCF, nous équipons les directeurs financiers (CFO) et les entrepreneurs avec des outils de décision de niveau institutionnel.</p>
        </div>
        <div class="edu-card">
            <h3>Éducation & Rigueur</h3>
            <p>Pas de spéculation, uniquement de l'analyse fondamentale. Apprenez à lire un bilan, un compte de résultat et un tableau de flux de trésorerie.</p>
        </div>
    </div>
</div>

<div id="sim-hub" class="page">
    <h2 style="font-family: 'Cinzel', serif; margin-bottom: 40px;">Terminal de Simulation Financière</h2>
    <div class="sim-hub-grid">
        <div class="sim-launcher" onclick="loadSim('dcf')"><h3>01. Valorisation DCF</h3><p>Modèle Discounted Cash Flow - Valeur Intrinsèque.</p></div>
        <div class="sim-launcher" onclick="loadSim('yield')"><h3>02. Dividend Yield</h3><p>Analyse du rendement et Payback Boursier.</p></div>
        <div class="sim-launcher" onclick="loadSim('wacc')"><h3>03. Modèle WACC</h3><p>Coût Moyen Pondéré du Capital.</p></div>
        <div class="sim-launcher" onclick="loadSim('immo')"><h3>04. Rentabilité Immo</h3><p>Rendement locatif net au Maroc.</p></div>
        <div class="sim-launcher" onclick="loadSim('break')"><h3>05. Point Mort</h3><p>Seuil de rentabilité pour entreprises.</p></div>
        <div class="sim-launcher" onclick="loadSim('compound')"><h3>06. Intérêts Composés</h3><p>Projection de fortune à long terme.</p></div>
    </div>
</div>

<div id="sim-workspace-page" class="page">
    <a onclick="showPage('sim-hub')" style="cursor:pointer; font-weight:700; color:var(--accent)">← Retour au Hub</a>
    <div class="sim-workspace" style="margin-top:20px;">
        <div class="sim-controls">
            <h2 id="sim-title" style="font-family:'Cinzel',serif">Simulateur</h2>
            <div id="sim-inputs-area"></div>
            <div class="guide-section">
                <h4>Méthodologie & Guide</h4>
                <p id="sim-guide-text"></p>
            </div>
        </div>
        <div class="output-section">
            <div class="chart-box"><canvas id="simChart"></canvas></div>
            <div class="analysis-report">
                <h4>Analyse de l'Analyste</h4>
                <div id="analysis-content">Effectuez une simulation pour générer le rapport.</div>
            </div>
        </div>
    </div>
</div>

<div id="courses" class="page">
    <h2 style="font-family:'Cinzel',serif">Programmes de Certification</h2>
    <div class="course-grid">
        <div class="course-item">
            <div class="course-badge">BASICS</div>
            <div class="course-info">
                <h3>Les Bases de la Bourse de Casablanca</h3>
                <p>Idéal pour les débutants. Apprenez le fonctionnement du MASI, le passage d'ordres et les indicateurs clés.</p>
                <button class="btn-action" style="width:200px">En savoir plus</button>
            </div>
        </div>
        <div class="course-item">
            <div class="course-badge">FUNDA</div>
            <div class="course-info">
                <h3>Analyse Fondamentale Avancée</h3>
                <p>Apprenez à valoriser n'importe quelle action marocaine via les multiples et le DCF.</p>
                <button class="btn-action" style="width:200px">En savoir plus</button>
            </div>
        </div>
        <div class="course-item">
            <div class="course-badge">CAREER</div>
            <div class="course-info">
                <h3>Entretien & Carrière Finance</h3>
                <p>Coaching complet : CV, LinkedIn et techniques de recherche d'emploi en finance.</p>
                <button class="btn-action" style="width:200px">En savoir plus</button>
            </div>
        </div>
    </div>
</div>

<div id="contact" class="page">
    <div style="max-width:600px; margin:auto; background:var(--surface); padding:50px; border-radius:12px;">
        <h2 style="font-family:'Cinzel',serif">Entrer en Contact</h2>
        <p>Email: <b>themoroccananalyst@gmail.com</b></p>
        <hr>
        <input type="text" placeholder="Nom">
        <input type="email" placeholder="Email">
        <textarea style="width:100%; height:150px; padding:12px; border:1px solid #ddd; margin-bottom:20px;" placeholder="Message"></textarea>
        <button class="btn-action">Envoyer</button>
    </div>
</div>

<footer>
    <div class="logo" style="color:var(--accent); margin-bottom:20px;">The Moroccan Community</div>
    <p>Retrouvez-nous sur Instagram @the_moroccananalyst et sur nos deux chaînes YouTube.</p>
    <p style="font-size:0.7rem; opacity:0.5; margin-top:40px;">&copy; 2025 THE MOROCCAN COMMUNITY. TOUS DROITS RÉSERVÉS.</p>
</footer>

<script>
    let currentChart = null;

    function showPage(id) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        window.scrollTo(0,0);
    }

    function loadSim(type) {
        showPage('sim-workspace-page');
        const inputsArea = document.getElementById('sim-inputs-area');
        const guide = document.getElementById('sim-guide-text');
        const title = document.getElementById('sim-title');
        
        if(type === 'dcf') {
            title.innerText = "Modèle DCF";
            inputsArea.innerHTML = `
                <label>Flux de Trésorerie Libre (DH)</label><input type="number" id="v1" value="1000000">
                <label>Taux de Croissance Perpetuel (%)</label><input type="number" id="v2" value="3">
                <label>Taux d'Actualisation / WACC (%)</label><input type="number" id="v3" value="10">
                <button class="btn-action" onclick="runDCF()">Calculer la Valeur</button>
            `;
            guide.innerText = "Le modèle DCF (Discounted Cash Flow) estime la valeur d'une entreprise aujourd'hui sur la base de l'argent qu'elle générera dans le futur. C'est l'outil roi de l'investisseur fondamental.";
        } else if(type === 'yield') {
            title.innerText = "Dividend Yield";
            inputsArea.innerHTML = `
                <label>Prix de l'Action (DH)</label><input type="number" id="v1" value="500">
                <label>Dividende par Action (DH)</label><input type="number" id="v2" value="25">
                <button class="btn-action" onclick="runYield()">Analyser le Rendement</button>
            `;
            guide.innerText = "Le rendement dividende mesure le revenu passif généré par une action. Le Payback indique combien d'années sont nécessaires pour récupérer votre capital via les dividendes seuls.";
        }
        // ... Logique similaire pour les autres simulateurs ...
    }

    // --- MOTEUR DE GRAPHIQUE ---
    function updateChart(type, labels, data, label) {
        if (currentChart) currentChart.destroy();
        const ctx = document.getElementById('simChart').getContext('2d');
        currentChart = new Chart(ctx, {
            type: type,
            data: {
                labels: labels,
                datasets: [{
                    label: label,
                    data: data,
                    backgroundColor: ['#c5a059', '#1a1a1a', '#e5e7eb'],
                    borderWidth: 0
                }]
            },
            options: { responsive: true, maintainAspectRatio: false }
        });
    }

    // --- LOGIQUES SPÉCIFIQUES ---
    function runDCF() {
        const fcf = parseFloat(document.getElementById('v1').value);
        const g = parseFloat(document.getElementById('v2').value) / 100;
        const wacc = parseFloat(document.getElementById('v3').value) / 100;
        const val = fcf / (wacc - g);
        
        updateChart('bar', ['FCF Initial', 'Valeur Terminale'], [fcf, val], 'Estimation (DH)');
        document.getElementById('analysis-content').innerHTML = `
            <p>Valeur Intrinsèque : <b>${Math.round(val).toLocaleString()} DH</b></p>
            <p><b>Constat :</b> Si la capitalisation boursière actuelle au MASI est inférieure à ce montant, l'action présente une marge de sécurité. Attention, une hausse du WACC de 1% peut drastiquement réduire cette valeur.</p>
        `;
    }

    function runYield() {
        const prix = parseFloat(document.getElementById('v1').value);
        const div = parseFloat(document.getElementById('v2').value);
        const yield = (div / prix) * 100;
        const payback = prix / div;

        updateChart('doughnut', ['Dividende', 'Reste du prix'], [div, prix-div], 'Rendement');
        document.getElementById('analysis-content').innerHTML = `
            <p>Rendement : <b>${yield.toFixed(2)}%</b> | Payback : <b>${payback.toFixed(1)} ans</b></p>
            <p><b>Constat :</b> Au Maroc, un bon rendement dépasse souvent 5%. Un payback inférieur à 12 ans est considéré comme excellent pour une valeur de rendement (ex: Maroc Telecom ou Banques).</p>
        `;
    }
</script>

</body>
</html>
